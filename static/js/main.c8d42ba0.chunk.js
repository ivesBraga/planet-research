(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),c=a.n(l),u=a(1),o=Object(n.createContext)();a(14);function i(){var e=Object(n.useContext)(o),t=e.numberFilter,a=e.setNumberFilter,l=e.columnOptions,c=e.comparisonFilter,i=e.setComparisonFilter,s=e.saveFiltersSetup,m=e.setColumnValue,f=e.columnValue,p=e.saveFilters,d=e.deleteFilter,b=e.removeAllFilters,E=e.setOrder,v=["population","orbital_period","diameter","rotation_period","surface_water"],h=Object(n.useState)(v[0]),O=Object(u.a)(h,2),j=O[0],N=O[1],C=Object(n.useState)(""),S=Object(u.a)(C,2),F=S[0],g=S[1];return Object(n.useEffect)((function(){console.log(p)}),[p]),r.a.createElement("div",{className:"filtros"},r.a.createElement("select",{className:"filtro","data-testid":"column-filter",value:f,onChange:function(e){var t=e.target;return m(t.value)}},l.map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("select",{className:"filtro","data-testid":"comparison-filter",value:c,onChange:function(e){var t=e.target;return i(t.value)}},["maior que","menor que","igual a"].map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("input",{className:"filtro",type:"number","data-testid":"value-filter",value:t,onChange:function(e){var t=e.target;return a(t.value)}}),r.a.createElement("button",{className:"botao",type:"button","data-testid":"button-filter",onClick:s},"Filtrar!"),r.a.createElement("section",null,r.a.createElement("select",{className:"filtro","data-testid":"column-sort",value:j,onChange:function(e){var t=e.target;return N(t.value)}},v.map((function(e,t){return r.a.createElement("option",{value:e,key:t,id:e},e)})))),r.a.createElement("section",{className:"teste"},r.a.createElement("label",{htmlFor:"AscInput"},r.a.createElement("span",null,"Ascendente"),r.a.createElement("input",{name:"ascDescSort",id:"AscInput",value:"ASC",type:"radio",onChange:function(e){var t=e.target;return g(t.value)},"data-testid":"column-sort-input-asc"})),r.a.createElement("label",{htmlFor:"DescInput"},r.a.createElement("span",null,"Descendente"),r.a.createElement("input",{name:"ascDescSort",id:"DescInput",value:"DESC",type:"radio",onChange:function(e){var t=e.target;return g(t.value)},"data-testid":"column-sort-input-desc",checked:"DESC"===F}))),r.a.createElement("button",{className:"botao",type:"button",onClick:function(){console.log("foi"),E({colunm:j,sort:F})},"data-testid":"column-sort-button"},"Ordenar"),r.a.createElement("button",{className:"botao-remover",type:"button","data-testid":"button-remove-filters",onClick:b},"Remover Filtros"),p.map((function(e,t){var a=e.column,n=e.comparison,l=e.value;return r.a.createElement("div",{key:t,"data-testid":"filter"},r.a.createElement("span",null,"".concat(a," || ").concat(n," || ").concat(l)),r.a.createElement("button",{type:"button",onClick:function(){return d(e)}},"X"))})))}a(15);function s(){var e=Object(n.useContext)(o),t=e.planetSearch,a=e.setPlanetSearch;return r.a.createElement("div",null,r.a.createElement("main",{className:"header"},r.a.createElement("h1",null,"Planet Research - Star Wars"),r.a.createElement("input",{className:"planet-name-input",placeholder:"Search for a planet","data-testid":"name-filter",onChange:function(e){var t=e.target;return a(t.value)},value:t})))}a(16),a(17);function m(){var e=Object(n.useContext)(o).planetsData;return r.a.createElement("div",null,r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"cabecalho-tabela"},r.a.createElement("th",{className:"titulo"},"Name"),r.a.createElement("th",{className:"titulo"},"Rotation Period"),r.a.createElement("th",{className:"titulo"},"Orbital Period"),r.a.createElement("th",{className:"titulo"},"Diameter"),r.a.createElement("th",{className:"titulo"},"Climate"),r.a.createElement("th",{className:"titulo"},"Gravity"),r.a.createElement("th",{className:"titulo"},"Terrain"),r.a.createElement("th",{className:"titulo"},"Surface Water"),r.a.createElement("th",{className:"titulo"},"Population"),r.a.createElement("th",{className:"titulo"},"Films"),r.a.createElement("th",{className:"titulo"},"Created"),r.a.createElement("th",{className:"titulo"},"Edited"),r.a.createElement("th",{className:"titulo"},"URL"))),r.a.createElement("tbody",null,e&&e.map((function(e){return r.a.createElement("tr",{key:e.name,className:"tabela"},r.a.createElement("td",{"data-testid":"planet-name"},e.name),r.a.createElement("td",null,e.rotation_period),r.a.createElement("td",null,e.orbital_period),r.a.createElement("td",null,e.diameter),r.a.createElement("td",null,e.climate),r.a.createElement("td",null,e.gravity),r.a.createElement("td",null,e.terrain),r.a.createElement("td",null,e.surface_water),r.a.createElement("td",null,e.population),r.a.createElement("td",null,e.films),r.a.createElement("td",null,e.created),r.a.createElement("td",null,e.edited),r.a.createElement("td",null,e.url))})))))}var f=a(2),p=a.n(f),d=a(5),b=a(6),E=function(){var e=Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a.results);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var v=function(e){var t=e.children,a=Object(n.useState)([]),l=Object(u.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)([]),m=Object(u.a)(s,2),f=m[0],v=m[1],h=Object(n.useState)(""),O=Object(u.a)(h,2),j=O[0],N=O[1],C=Object(n.useState)(0),S=Object(u.a)(C,2),F=S[0],g=S[1],k=Object(n.useState)("population"),y=Object(u.a)(k,2),w=y[0],x=y[1],D=Object(n.useState)("maior que"),_=Object(u.a)(D,2),P=_[0],A=_[1],q=Object(n.useState)([]),I=Object(u.a)(q,2),R=I[0],V=I[1],L=Object(n.useState)(["population","orbital_period","diameter","rotation_period","surface_water"]),J=Object(u.a)(L,2),W=J[0],B=J[1],G=Object(n.useState)({}),T=Object(u.a)(G,2),U=T[0],X=T[1];Object(n.useEffect)((function(){x(W[0])}),[W]),Object(n.useEffect)((function(){!function(){var e=U.colunm,t=U.sort,a=[];if(U){var n=f.filter((function(t){return"unknown"===t[e]})),r=f.filter((function(t){return"unknown"!==t[e]})).sort((function(a,n){return"ASC"===t?Number(a[e])-Number(n[e]):Number(n[e])-Number(a[e])}));a=[].concat(Object(b.a)(r),Object(b.a)(n))}v(a)}()}),[U]),Object(n.useEffect)((function(){!function(){if(!(R.length>0))return v(c);R.map((function(e){var t=e.column,a=e.comparison,n=e.value;if("maior que"===a){var r=f.filter((function(e){return Number(e[t])>Number(n)}));v(r)}else if("menor que"===a){var l=f.filter((function(e){return Number(e[t])<Number(n)}));v(l)}else{var c=f.filter((function(e){return Number(e[t])===Number(n)}));v(c)}return"Error"}))}()}),[R]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,a=t.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),v(a),i(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){var e=c.filter((function(e){return e.name.toLowerCase().includes(j.toLowerCase())}));v(e)}),[j]);var z={planetsData:f,setPlanetsData:v,planetSearch:j,setPlanetSearch:N,numberFilter:F,setNumberFilter:g,columnOptions:W,setColumnOptions:B,comparisonFilter:P,setComparisonFilter:A,saveFilters:R,setSaveFilters:V,saveFiltersSetup:function(){V([].concat(Object(b.a)(R),[{column:w,comparison:P,value:F}])),B(W.filter((function(e){return e!==w}))),console.log(W)},setColumnValue:x,columnValue:w,deleteFilter:function(e){V((function(t){return t.filter((function(t){return t!==e}))})),v(c)},removeAllFilters:function(){V([])},setOrder:X};return r.a.createElement(o.Provider,{value:z},t)};var h=function(){return r.a.createElement(v,null,r.a.createElement(s,null),r.a.createElement(i,null),r.a.createElement(m,null))};c.a.render(r.a.createElement(h,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(19)}},[[9,1,2]]]);
//# sourceMappingURL=main.c8d42ba0.chunk.js.map