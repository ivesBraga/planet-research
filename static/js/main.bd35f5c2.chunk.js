(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(8),u=n.n(l),c=(n(14),n(1)),o=Object(a.createContext)();function i(){var e=Object(a.useContext)(o),t=e.numberFilter,n=e.setNumberFilter,l=e.columnOptions,u=e.comparisonFilter,i=e.setComparisonFilter,s=e.saveFiltersSetup,m=e.setColumnValue,f=e.columnValue,d=e.saveFilters,p=e.deleteFilter,b=e.removeAllFilters,E=e.setOrder,v=["population","orbital_period","diameter","rotation_period","surface_water"],O=Object(a.useState)(v[0]),h=Object(c.a)(O,2),j=h[0],C=h[1],S=Object(a.useState)(""),F=Object(c.a)(S,2),g=F[0],k=F[1];return Object(a.useEffect)((function(){console.log(d)}),[d]),r.a.createElement("div",null,r.a.createElement("select",{"data-testid":"column-filter",value:f,onChange:function(e){var t=e.target;return m(t.value)}},l.map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("select",{"data-testid":"comparison-filter",value:u,onChange:function(e){var t=e.target;return i(t.value)}},["maior que","menor que","igual a"].map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("input",{type:"number","data-testid":"value-filter",value:t,onChange:function(e){var t=e.target;return n(t.value)}}),r.a.createElement("button",{type:"button","data-testid":"button-filter",onClick:s},"Filtrar!"),r.a.createElement("section",null,r.a.createElement("select",{"data-testid":"column-sort",value:j,onChange:function(e){var t=e.target;return C(t.value)}},v.map((function(e,t){return r.a.createElement("option",{value:e,key:t,id:e},e)}))),r.a.createElement("label",{htmlFor:"AscInput"},"Ascendente",r.a.createElement("input",{name:"ascDescSort",id:"AscInput",value:"ASC",type:"radio",onChange:function(e){var t=e.target;return k(t.value)},"data-testid":"column-sort-input-asc"})),r.a.createElement("label",{htmlFor:"DescInput"},"Descendente",r.a.createElement("input",{name:"ascDescSort",id:"DescInput",value:"DESC",type:"radio",onChange:function(e){var t=e.target;return k(t.value)},"data-testid":"column-sort-input-desc",checked:"DESC"===g})),r.a.createElement("button",{type:"button",onClick:function(){console.log("foi"),E({colunm:j,sort:g})},"data-testid":"column-sort-button"},"Ordenar")),r.a.createElement("button",{type:"button","data-testid":"button-remove-filters",onClick:b},"Remover Filtros"),d.map((function(e,t){var n=e.column,a=e.comparison,l=e.value;return r.a.createElement("div",{key:t,"data-testid":"filter"},r.a.createElement("span",null,"".concat(n," || ").concat(a," || ").concat(l)),r.a.createElement("button",{type:"button",onClick:function(){return p(e)}},"X"))})))}function s(){var e=Object(a.useContext)(o),t=e.planetSearch,n=e.setPlanetSearch;return r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Planet Name","data-testid":"name-filter",onChange:function(e){var t=e.target;return n(t.value)},value:t}))}n(15);function m(){var e=Object(a.useContext)(o).planetsData;return r.a.createElement("div",null,r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Rotation Period"),r.a.createElement("th",null,"Orbital Period"),r.a.createElement("th",null,"Diameter"),r.a.createElement("th",null,"Climate"),r.a.createElement("th",null,"Gravity"),r.a.createElement("th",null,"Terrain"),r.a.createElement("th",null,"Surface Water"),r.a.createElement("th",null,"Population"),r.a.createElement("th",null,"Films"),r.a.createElement("th",null,"Created"),r.a.createElement("th",null,"Edited"),r.a.createElement("th",null,"URL"))),r.a.createElement("tbody",null,e&&e.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",{"data-testid":"planet-name"},e.name),r.a.createElement("td",null,e.rotation_period),r.a.createElement("td",null,e.orbital_period),r.a.createElement("td",null,e.diameter),r.a.createElement("td",null,e.climate),r.a.createElement("td",null,e.gravity),r.a.createElement("td",null,e.terrain),r.a.createElement("td",null,e.surface_water),r.a.createElement("td",null,e.population),r.a.createElement("td",null,e.films),r.a.createElement("td",null,e.created),r.a.createElement("td",null,e.edited),r.a.createElement("td",null,e.url))})))))}var f=n(2),d=n.n(f),p=n(5),b=n(6),E=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.results);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var v=function(e){var t=e.children,n=Object(a.useState)([]),l=Object(c.a)(n,2),u=l[0],i=l[1],s=Object(a.useState)([]),m=Object(c.a)(s,2),f=m[0],v=m[1],O=Object(a.useState)(""),h=Object(c.a)(O,2),j=h[0],C=h[1],S=Object(a.useState)(0),F=Object(c.a)(S,2),g=F[0],k=F[1],y=Object(a.useState)("population"),w=Object(c.a)(y,2),N=w[0],x=w[1],D=Object(a.useState)("maior que"),_=Object(c.a)(D,2),P=_[0],A=_[1],q=Object(a.useState)([]),I=Object(c.a)(q,2),V=I[0],L=I[1],R=Object(a.useState)(["population","orbital_period","diameter","rotation_period","surface_water"]),J=Object(c.a)(R,2),B=J[0],G=J[1],T=Object(a.useState)({}),U=Object(c.a)(T,2),W=U[0],X=U[1];Object(a.useEffect)((function(){x(B[0])}),[B]),Object(a.useEffect)((function(){!function(){var e=W.colunm,t=W.sort,n=[];if(W){var a=f.filter((function(t){return"unknown"===t[e]})),r=f.filter((function(t){return"unknown"!==t[e]})).sort((function(n,a){return"ASC"===t?Number(n[e])-Number(a[e]):Number(a[e])-Number(n[e])}));n=[].concat(Object(b.a)(r),Object(b.a)(a))}v(n)}()}),[W]),Object(a.useEffect)((function(){!function(){if(!(V.length>0))return v(u);V.map((function(e){var t=e.column,n=e.comparison,a=e.value;if("maior que"===n){var r=f.filter((function(e){return Number(e[t])>Number(a)}));v(r)}else if("menor que"===n){var l=f.filter((function(e){return Number(e[t])<Number(a)}));v(l)}else{var u=f.filter((function(e){return Number(e[t])===Number(a)}));v(u)}return"Error"}))}()}),[V]),Object(a.useEffect)((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,n=t.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),v(n),i(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){var e=u.filter((function(e){return e.name.toLowerCase().includes(j.toLowerCase())}));v(e)}),[j]);var z={planetsData:f,setPlanetsData:v,planetSearch:j,setPlanetSearch:C,numberFilter:g,setNumberFilter:k,columnOptions:B,setColumnOptions:G,comparisonFilter:P,setComparisonFilter:A,saveFilters:V,setSaveFilters:L,saveFiltersSetup:function(){L([].concat(Object(b.a)(V),[{column:N,comparison:P,value:g}])),G(B.filter((function(e){return e!==N}))),console.log(B)},setColumnValue:x,columnValue:N,deleteFilter:function(e){L((function(t){return t.filter((function(t){return t!==e}))})),v(u)},removeAllFilters:function(){L([])},setOrder:X};return r.a.createElement(o.Provider,{value:z},t)};var O=function(){return r.a.createElement(v,null,r.a.createElement(s,null),r.a.createElement(i,null),r.a.createElement(m,null))};u.a.render(r.a.createElement(O,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.bd35f5c2.chunk.js.map